---
layout: post
title:  "Git"
date:   2024-04-8
categories: 工具
excerpt_separator: ""
---

git不允许在非空路径里克隆，VS也不允许在非空路径中新建项目。
所以在新建一个库的时候，为了方便，我们可以先新建一个项目，然后git clone <https://github.com/fallshadow/项目名> git 的方式克隆到当地git子目录，然后Ctrl+X出来。

git clone <https://github.com/fallshadow/项目名> git

| 命令                                   | 功能                                                                        |
| -------------------------------------- | --------------------------------------------------------------------------- |
| git status                             | 查看当前目录状态                                                            |
| git add \*                             | 添加到暂存区                                                                |
| git reset .                            | 重置暂存区                                                                  |
| git commit -m "提交说明"               | 提交文件到本地                                                              |
| git push origin XXX                    | 提交文件到远程库XXX分支                                                     |
| git checkout -f b4b4319                | 切到节点 b4b4319                                                            |
| git pull origin master                 | 拉取代码                                                                    |
| git rm 原文件详细目录 目的文件详细目录 | 将已有文件移动或者重命名，这样git就不会记录成删除再添加了，方便追踪文件历史 |


## 子模块
假设你有一个主仓库A，A想实现某个大功能需要借助其他仓库B，但是不想在A中管理B的内容，只是想用B，这时候可以将仓库B作为A的子模块，这样B可以自己更新内容，而不影响到A，A如果想使用B的最新代码，直接子模块更新，也看不到B更新的细节。  
这基本是一个解除耦合的需求。

也就是说：子模块是另一个仓库，不应该在主仓库更改子模块；子模块的更新不会影响到主仓库，除非主仓库主动更新子模块。
### 添加子模块
git submodule add 目标网址 指定目录文件夹  

### 删除子模块
在父仓库中，找到要删除的子模块的条目，将其删除。然后，还要删除 .git/modules/子模块名称 目录下所有文件。  
最后还要删除缓存
```Cpp
git rm -r --cached 之前指定的目录文件夹
```
### 子模块管理
我们进入到子模块所在的文件夹，再使用cmd进行命令管理，就跟一个新的仓库一样了，在这里你看不到主仓库的内容。
