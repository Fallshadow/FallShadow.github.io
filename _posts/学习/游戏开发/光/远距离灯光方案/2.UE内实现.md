不指望单一真实 Light 自己解决全部距离段，业界普遍用的是：
- 近处 / 中距离：真实光 + 发光 Mesh
- 远处：假光（Billboard / Sprite / 自发光 Mesh + 特制材质）
- 通过距离切换 / 插值把两者平滑过渡起来

一、引擎级设置：防止光/物体被太早剔除

1. Min Screen Radius for Lights

    Edit → Project Settings → Rendering → Culling → Min Screen Radius for Lights

    对有远距离灯光需求的项目：设为 很小（甚至 0），避免灯在还没 “远到只剩一个像素” 前就被干掉。

2. Mesh 不要距离裁剪

    在对应 Mesh / Actor 的 Details 里勾 ：Never Distance Cull。确保“远光的显示载体”不会被引擎自动裁掉。


这两步解决“东西直接消失”的问题，但不会自动解决“只占 1 像素时被平均变暗”的问题，那要靠 Shader。

二、Actor 结构：一个灯 = 两套表现

建议做一个统一的蓝图 Actor，比如 BP_DistantLightActor，内部包含两套表现：

- 近处真实光（真光层）​
    - 一个 PointLightComponent / SpotLightComponent / RectLightComponent
    - 一个 灯泡 Mesh（有 Emissive 材质），表现近处造型和局部亮度
- 远处假光（远光层）​
    - 一个 BillboardComponent 或 StaticMeshComponent（小面片 / 小球）
    - 绑一个 Unlit + Emissive 材质，专门用于“远距离亮点显示”

三、蓝图逻辑：按距离切换 / 插值

游戏逻辑了

四、远光材质：保证 1 像素也发亮


核心诉求的关键部分：“距离越来越远灯光所占像素小于等于 1 的时候，也要稳定亮，不会被黑暗均值抹掉”

1. 材质基础设置
   1. Shading Model：Unlit
   2. Blend Mode：推荐 Additive 或 Translucent （常用 Additive）
   3. Lighting：只用 Emissive Color 驱动
2. 材质参数
   1. Color（Vector3）：灯光颜色
   2. EmissiveStrength（Scalar）：基础发光强度
   3. FarAlpha（Scalar）：蓝图传进来的 [0,1] 插值，用于近远切换 
   4. （可选）DistanceScale（Scalar）：按距离调节尺寸或亮度
3. 材质节点逻辑（简单可靠版）



# 方案

组件选择

- 想直接用 Billboard 组件：用 MaterialBillboardComponent，给它一个自定义材质。
- 想完全自控：用 Plane Mesh + 材质函数做 Billboard

```Cpp
CameraDir = CameraVectorWS()         // 摄像机方向
Normal    = PixelNormalWS()          // 世界法线
Dot       = dot(CameraDir, Normal)   // 点积，>0 正面，<0 背面

Facing    = Step(0.0, Dot)          // 正面=1，背面=0
OpacityMask = TextureAlpha * Facing  // 正面正常显示，背面完全透明
```

这样就实现了：
Billboard / 平面只在“某个方向”（由法线决定）可见；
在反方向则完全透明，视觉效果上就是单面生效、另一面透明。

## 成千上万个灯光

用一个平面静态网格 + Billboard 材质 + ISM/HISM 来实现。


# lumen 下的特殊性

lumen 下，灯光 “调很亮但看起来还是一般” 是很常见的现象，和传统非 Lumen 光照确实 “表现不一样”。​

原因不是 “强度没生效” ，而是被 曝光、Lumen 的采样 / 剪裁机制、以及小体积光源的限制 给 “吃掉” 了。

## 为什么在 Lumen 下，你把灯光强度拉爆，看起来还是一般？

### 曝光（Auto Exposure）把亮度压回来了

UE5 默认开自动曝光，相当于“相机会自己调亮 / 调暗”

你把灯光强度从 1000 拉到 100000，相机会自动把曝光调低，结果画面整体对比度变化不大，看起来“并没有亮多少”。这在使用物理光照单位（lux / candela / lumen）时尤其明显。

在你调灯时，建议临时这样做
- 在场景里放一个 Post Process Volume：勾选 Infinite Extent (Unbound)
- 在 Post Process 里：Exposure → Min EV100 = Max EV100，比如都设成 0 ~ 2，或者直接选 Metering Mode = Manual（手动曝光）。这样，再调灯光 Intensity，你才能直观看到“真实亮了多少”，不会被自动曝光抵消。
