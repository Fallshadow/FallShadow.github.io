- [ISM（InstancedStaticMeshComponent）](#isminstancedstaticmeshcomponent)
- [HISM（HierarchicalInstancedStaticMeshComponent）](#hismhierarchicalinstancedstaticmeshcomponent)
- [使用 HISM 和 不使用的区别](#使用-hism-和-不使用的区别)
- [材质设置](#材质设置)


# ISM（InstancedStaticMeshComponent）

用途：同一个 Static Mesh 的大量重复渲染，比如一排路灯、围栏段、弹孔等。

核心点：
- 只加载一次 Mesh / 材质，多个实例共享
- DrawCall 批量提交（相比一堆 StaticMeshComponent，大幅减少 CPU 开销）
- 每个实例有 自己的变换（位置、旋转、缩放）

> 可以理解成：“我有 1 个模型，要在场景里放 1000 个版本，只是 Transform 不同”。

# HISM（HierarchicalInstancedStaticMeshComponent）

在 ISM 基础上加了 层级包围盒（BVH）：
- 引擎会把实例分成层级树结构
- 做 分块剔除（Hierarchical Culling）：整块不在视锥里，就整块不渲染

更适合：
- 范围很大、分布广 的实例（森林、石头群、远景建筑）

# 使用 HISM 和 不使用的区别

使用 standalone game

打开控制台（~ 键）

输入 ： stat RHI

重点看这几项
- DrawPrimitive calls（DrawCall 数量）
- Triangles（三角面数）

完全空的场景独立运行的游戏数据 
4284 - 5340  90 - 102

![alt text](完全空的场景独立运行的游戏数据.png)

不使用 HISM
195761 - 319661  107 - 151

![alt text](<不使用 HISM.png>)

使用 HISM

4293 - 5349    97 - 109

![alt text](<使用 HISM.png>)

# 材质设置

必须要勾选 Used with Instanced Static Meshes 此项参数，不然材质无法显示。