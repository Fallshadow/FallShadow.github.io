# UPROPERTY

An explicit Category specifier is required for any property exposed to the editor or Blueprints in an Engine module.

任何在 Engine / Plugin 模块中暴露给编辑器或蓝图的属性，都必须显式指定 Category 分类

UPROPERTY(EditAnywhere)
UPROPERTY(EditDefaultsOnly)
UPROPERTY(EditInstanceOnly)
UPROPERTY(VisibleAnywhere)
UPROPERTY(BlueprintReadWrite)
UPROPERTY(BlueprintReadOnly)

在 Engine / Plugin 模块中，只要类似这种会在编辑器里暴露的属性，就都要使用分类。

```Cpp

UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "MyConfig")
int32 ExampleValue;
```

## 规则

在引擎模块中，Epic 要强制要求开发者明确分类，是为了保持 编辑器属性面板清晰。
引擎模块通常是通用的、共享的，如果不强制设分类，暴露的属性会全堆在根层，显得非常混乱。

而在 Game 模块（自己项目的代码）中，Unreal 则比较宽松，如果你不写 Category，引擎会自动用 "Default" 或类名来归类。

# 未初始化

Error: IntProperty FParsedMeshData::LightType is not initialized properly. Module:FBXImporterUtilPlugin File:Public/FBXParserLibrary.h

## 结构体

有些时候，结构体里面的**基础类型/结构体类型成员**必须明确初始化默认值。

Unreal 的编译器有两道 “处理线”

C++ 编译阶段	编译器（Clang/MSVC）	      负责语法正确性

反射解析阶段	Unreal Header Tool (UHT)    检查蓝图/引擎反射规则

UE 分为两种大类型模式，一种是 Game 模式，一种是 引擎/插件 模式。

Game 模块 = UHT 宽松模式，Engine / Plugin 模块 = UHT 严格模式。

- 在 Game 模块中，不需要**基础类型/结构体类型成员**明确初始化默认值。引擎会自动赋予初始值
- 在 Engine / Plugin 模块，要求每个**基础类型/结构体类型成员**明确初始化默认值。否则可能会报错（比如在打包插件的时候发现没有初始化）


# 编译不报错而打包报错

Unreal 在编辑器中编译时是“宽松模式”（上下文全可见），而打包/UAT 阶段是“严格模式”，只能访问 Build.cs 声明依赖的模块并且要求显式 include 头文件。

所以：编辑器能编，打包错，往往是模块依赖没加全或 include 缺失。