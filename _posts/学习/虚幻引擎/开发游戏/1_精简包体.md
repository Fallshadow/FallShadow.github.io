- [资料](#资料)
- [默认地形场景替换](#默认地形场景替换)
  - [打包结果 692 MB](#打包结果-692-mb)
- [打包模式更改](#打包模式更改)
  - [打包结果 321 MB](#打包结果-321-mb)
- [Redistributable](#redistributable)
  - [打包结果 273 MB](#打包结果-273-mb)
- [插件](#插件)
  - [OpenImage Denoise](#openimage-denoise)
  - [打包结果 242 MB](#打包结果-242-mb)
- [打包设置确认](#打包设置确认)
  - [Packaging](#packaging)
  - [Project](#project)
  - [打包结果 239 MB](#打包结果-239-mb)
- [渲染选择](#渲染选择)
  - [前向渲染](#前向渲染)
  - [](#)
- [插件进一步精简](#插件进一步精简)
  - [打包结果 236 MB](#打包结果-236-mb)


# 资料

[B站](https://www.bilibili.com/video/BV1tUj3zTEf1/?vd_source=386bdb94ff2a430f8d22a6de9755030c)

[Youtube](https://www.youtube.com/watch?v=f9hMB_50B5o)

# 默认地形场景替换

项目默认情况下它会包含一个开放的世界地图，是我们不需要的，为了防止它最终出现在包中，创建一个空白关卡，然后在项目设置中将其设置为默认地图。

## 打包结果 692 MB


# 打包模式更改

打包选项中选择 shipping

## 打包结果 321 MB

# Redistributable

进入 PC 包目录，打开此下路径

Windows\Engine\Extras\Redist\en-us

在这里我可以看到一个48.1 MB 大小的先决条件安装程序的可执行文件。这个文件是帮助游戏在多平台运行使用的，主要帮助游戏在一些独立网站（比如 itch）上发布。但是对于 steam，他们有自己的安装先决条件的过程而不需要这个文件。（[steam 文档](https://partner.steamgames.com/doc/features/common_redist) Steamworks Documentation > Features > Common Redistributables
）

Project Setting > Packaging > Prerequisites > Include prerequisites installer

取消勾选，以关闭先决条件安装程序进入包体

## 打包结果 273 MB

# 插件

UE 默认开启了很多插件，有一些是编辑器插件不会进入包体，有一些会影响游戏运行不能删除，而有一些是我们完全用不到的冗余插件。

这里介绍几种体积较大还几乎不会用到的插件。

## OpenImage Denoise

英特尔开发的一个开源高性能图像去噪库，专注于光线追踪渲染中的图像质量提升和渲染时间减少。

相信大多数游戏开发者都用不到。其大小居然占用了 47.4 MB。（Windows\Engine\Binaries\Win64 战绩可查）

## 打包结果 242 MB

# 打包设置确认

## Packaging

Project Setting > Packaging > Packaging

一般这些设置都会减小包体大小，但是会增加打包时长。

- Use Pak File : 将文件打包到一个或者多个 .pak 文件中，而不是单独存在。
- Share Material Shader Code : 默认情况下，着色器代码存放在材质资源内，开启这个选项会把着色器代码以一个单独的文件存在，也就是材质资源共享着色器代码。
- Shared Material Native Libraries : 默认情况下，着色器代码适配了各个平台，开启这个选项后，将会剔除未启用平台的代码。
- Advanced
  - Create compressed cooked packages : 压缩烘焙包。
  - Exclude editor content when cooking : 烘焙时剔除编辑器内容。

## Project

Project Setting > Packaging > Project

- Full Rebuild : 默认情况下，打包项目会产生缓存文件，下一次打包时只会改变有改变的内容，以此来加快打包速度。但是，在打过 N 次修改包之后，会有一些没必要的缓存文件进入包体，所以当你在进行最终打包时，一定记得勾选上这个重建选项。
- List of maps to include in a packaged build : 仅仅将使用到的关卡添加到包中。
- Cook only maps (this only affects cookall) : 仅仅烘焙添加到宝利德地图。

## 打包结果 239 MB

# 渲染选择

## 前向渲染

2D、手机、VR。

会省一些。

## 

# 插件进一步精简

- 如果你只是开发 PC 游戏，可以关闭安卓和 linux 相关插件。
- 看情况关闭 Chaos

## 打包结果 236 MB

